{% extends 'base.html' %}
{% block content %}

<div class="max-w-4xl mx-auto p-6">
    <h1 class="text-2xl text-cyan-500 mb-6">Chat with AI Tutor - {{ course.title }}</h1>

    <div class="bg-gray-800 rounded-lg shadow-lg p-6 mb-6 h-96 overflow-y-auto">
        {% for message in chat_messages %}
            <div class="mb-4 {% if message.is_user %}text-right{% endif %}">
                <div class="inline-block p-3 rounded-lg {% if message.is_user %}bg-cyan-500 text-white{% else %}bg-gray-700 text-gray-300{% endif %}">
                    {{ message.content }}
                </div>
            </div>
        {% endfor %}
    </div>

    <form method="POST" class="flex gap-4">
        {% csrf_token %}
        <input type="text" 
               name="message" 
               placeholder="Ask a question about this course..." 
               class="flex-1 p-2 rounded bg-gray-700 text-white">
        <button type="submit" 
                class="bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded">
            Send
        </button>
    </form>
</div>

{% endblock %}
